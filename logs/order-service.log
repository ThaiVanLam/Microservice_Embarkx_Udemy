2025-10-22T09:16:54.461+07:00  INFO 10204 --- [order-service] [main] com.ecommerce.order.OrderApplication     : Starting OrderApplication using Java 25 with PID 10204 (E:\file_tai_lieu\Course\do_an_tot_nghiep\Spring Boot Microservices Professional eCommerce Masterclass\Microservices\order\target\classes started by thaiv in E:\file_tai_lieu\Course\do_an_tot_nghiep\Spring Boot Microservices Professional eCommerce Masterclass\Microservices)
2025-10-22T09:16:54.475+07:00  INFO 10204 --- [order-service] [main] com.ecommerce.order.OrderApplication     : No active profile set, falling back to 1 default profile: "default"
2025-10-22T09:16:54.587+07:00  INFO 10204 --- [order-service] [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://localhost:8888
2025-10-22T09:16:54.588+07:00  INFO 10204 --- [order-service] [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=order-service, profiles=[default], label=null, version=null, state=null
2025-10-22T09:16:57.806+07:00  INFO 10204 --- [order-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-22T09:16:58.123+07:00  INFO 10204 --- [order-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 296 ms. Found 2 JPA repository interfaces.
2025-10-22T09:16:58.734+07:00  INFO 10204 --- [order-service] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-10-22T09:16:58.767+07:00  INFO 10204 --- [order-service] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-10-22T09:16:59.043+07:00  INFO 10204 --- [order-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=df7f4762-7ce7-3944-adaa-04bf237e4125
2025-10-22T09:17:00.277+07:00  INFO 10204 --- [order-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-10-22T09:17:00.311+07:00  INFO 10204 --- [order-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-22T09:17:00.312+07:00  INFO 10204 --- [order-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-10-22T09:17:00.577+07:00  INFO 10204 --- [order-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-22T09:17:00.580+07:00  INFO 10204 --- [order-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5988 ms
2025-10-22T09:17:01.632+07:00  INFO 10204 --- [order-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-22T09:17:01.820+07:00  INFO 10204 --- [order-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.22.Final
2025-10-22T09:17:01.945+07:00  INFO 10204 --- [order-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-22T09:17:02.776+07:00  INFO 10204 --- [order-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-22T09:17:02.862+07:00  INFO 10204 --- [order-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-22T09:17:03.237+07:00  INFO 10204 --- [order-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@8de4206
2025-10-22T09:17:03.239+07:00  INFO 10204 --- [order-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-22T09:17:03.366+07:00  WARN 10204 --- [order-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-22T09:17:03.452+07:00  INFO 10204 --- [order-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 14.19
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-22T09:17:05.796+07:00  INFO 10204 --- [order-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-22T09:17:06.385+07:00  INFO 10204 --- [order-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-22T09:17:08.624+07:00  WARN 10204 --- [order-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-22T09:17:11.092+07:00  INFO 10204 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T09:17:12.222+07:00  INFO 10204 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T09:17:12.757+07:00  WARN 10204 --- [order-service] [main] c.f.c.c.BeanFactoryAwareFunctionRegistry : Failed to locate function 'busConsumer' for function definition 'busConsumer'. Returning null.
2025-10-22T09:17:12.995+07:00  INFO 10204 --- [order-service] [main] o.s.c.s.m.DirectWithAttributesChannel    : Channel 'order-service.springCloudBusInput' has 1 subscriber(s).
2025-10-22T09:17:15.465+07:00  INFO 10204 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T09:17:15.528+07:00  INFO 10204 --- [order-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-10-22T09:17:15.871+07:00  WARN 10204 --- [order-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-10-22T09:17:15.891+07:00  INFO 10204 --- [order-service] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-10-22T09:17:16.188+07:00  INFO 10204 --- [order-service] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-10-22T09:17:16.189+07:00  INFO 10204 --- [order-service] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'order-service.errorChannel' has 1 subscriber(s).
2025-10-22T09:17:16.190+07:00  INFO 10204 --- [order-service] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-10-22T09:17:16.389+07:00  INFO 10204 --- [order-service] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-10-22T09:17:16.475+07:00  INFO 10204 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-10-22T09:17:16.482+07:00  INFO 10204 --- [order-service] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T09:17:16.508+07:00  INFO 10204 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-10-22T09:17:16.509+07:00  INFO 10204 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-10-22T09:17:16.509+07:00  INFO 10204 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-10-22T09:17:16.510+07:00  INFO 10204 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-10-22T09:17:16.510+07:00  INFO 10204 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-10-22T09:17:16.510+07:00  INFO 10204 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-10-22T09:17:16.511+07:00  INFO 10204 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-10-22T09:17:16.857+07:00  INFO 10204 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-10-22T09:17:16.861+07:00  INFO 10204 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-10-22T09:17:16.865+07:00  INFO 10204 --- [order-service] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-10-22T09:17:16.868+07:00  INFO 10204 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1761099436868 with initial instances count: 1
2025-10-22T09:17:16.876+07:00  INFO 10204 --- [order-service] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDER-SERVICE with eureka with status UP
2025-10-22T09:17:16.878+07:00  INFO 10204 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1761099436878, current=UP, previous=STARTING]
2025-10-22T09:17:16.880+07:00  INFO 10204 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083: registering service...
2025-10-22T09:17:16.882+07:00  INFO 10204 --- [order-service] [main] o.s.c.s.binder.DefaultBinderFactory      : Creating binder: rabbit
2025-10-22T09:17:16.882+07:00  INFO 10204 --- [order-service] [main] o.s.c.s.binder.DefaultBinderFactory      : Constructing binder child context for rabbit
2025-10-22T09:17:16.977+07:00  INFO 10204 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083 - registration status: 204
2025-10-22T09:17:17.069+07:00  INFO 10204 --- [order-service] [main] o.s.c.s.binder.DefaultBinderFactory      : Caching the binder: rabbit
2025-10-22T09:17:17.110+07:00  INFO 10204 --- [order-service] [main] c.s.b.r.p.RabbitExchangeQueueProvisioner : declaring queue for inbound: springCloudBus.anonymous.p0_TxutjRxyBQ-jQhPmSRg, bound to: springCloudBus
2025-10-22T09:17:17.138+07:00  INFO 10204 --- [order-service] [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2025-10-22T09:17:17.306+07:00  INFO 10204 --- [order-service] [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#674c9079:0/SimpleConnection@6b2cbea [delegate=amqp://guest@127.0.0.1:5672/, localPort=65336]
2025-10-22T09:17:17.419+07:00  INFO 10204 --- [order-service] [main] o.s.c.stream.binder.BinderErrorChannel   : Channel 'rabbit-1771173138.springCloudBusInput.errors' has 1 subscriber(s).
2025-10-22T09:17:17.420+07:00  INFO 10204 --- [order-service] [main] o.s.c.stream.binder.BinderErrorChannel   : Channel 'rabbit-1771173138.springCloudBusInput.errors' has 2 subscriber(s).
2025-10-22T09:17:17.459+07:00  INFO 10204 --- [order-service] [main] o.s.i.a.i.AmqpInboundChannelAdapter      : started bean 'inbound.springCloudBus.anonymous.p0_TxutjRxyBQ-jQhPmSRg'
2025-10-22T09:17:17.493+07:00  INFO 10204 --- [order-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-10-22T09:17:17.497+07:00  INFO 10204 --- [order-service] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8083
2025-10-22T09:17:18.507+07:00  INFO 10204 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T09:17:19.521+07:00  INFO 10204 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T09:17:19.643+07:00  INFO 10204 --- [order-service] [main] com.ecommerce.order.OrderApplication     : Started OrderApplication in 28.578 seconds (process running for 31.086)
2025-10-22T09:22:16.514+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T09:27:16.522+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T09:32:16.525+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T09:37:16.526+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T09:42:16.527+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T09:47:16.528+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T09:52:16.530+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T09:57:16.531+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T10:02:16.533+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T10:07:16.536+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T10:12:16.537+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T10:17:16.540+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T10:22:16.542+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T10:27:16.543+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T10:32:16.546+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T10:37:16.549+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T10:42:16.552+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T10:47:16.555+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T10:52:16.557+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T10:57:16.558+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T11:02:16.560+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T11:07:16.561+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T11:12:16.561+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T11:17:16.564+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T11:22:16.565+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T11:27:16.567+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T11:32:11.981+07:00  INFO 10204 --- [order-service] [http-nio-8083-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-22T11:32:11.982+07:00  INFO 10204 --- [order-service] [http-nio-8083-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-22T11:32:12.020+07:00  INFO 10204 --- [order-service] [http-nio-8083-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 37 ms
2025-10-22T11:32:16.571+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T11:37:16.573+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T11:42:16.574+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T11:47:16.575+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T11:52:16.578+07:00  INFO 10204 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T11:56:14.471+07:00  INFO 10204 --- [order-service] [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDER-SERVICE with eureka with status DOWN
2025-10-22T11:56:14.471+07:00  INFO 10204 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1761108974471, current=DOWN, previous=UP]
2025-10-22T11:56:14.472+07:00  INFO 10204 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083: registering service...
2025-10-22T11:56:14.487+07:00  INFO 10204 --- [order-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-22T11:56:14.496+07:00  INFO 10204 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083 - registration status: 204
2025-10-22T11:56:14.507+07:00  INFO 10204 --- [order-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-22T11:56:14.553+07:00  INFO 10204 --- [order-service] [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-10-22T11:56:14.554+07:00  INFO 10204 --- [order-service] [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-10-22T11:56:14.555+07:00  INFO 10204 --- [order-service] [SpringApplicationShutdownHook] o.s.i.a.i.AmqpInboundChannelAdapter      : stopped bean 'inbound.springCloudBus.anonymous.p0_TxutjRxyBQ-jQhPmSRg'
2025-10-22T11:56:14.584+07:00  INFO 10204 --- [order-service] [SpringApplicationShutdownHook] o.s.c.stream.binder.BinderErrorChannel   : Channel 'order-service.rabbit-1771173138.springCloudBusInput.errors' has 1 subscriber(s).
2025-10-22T11:56:14.585+07:00  INFO 10204 --- [order-service] [SpringApplicationShutdownHook] o.s.c.stream.binder.BinderErrorChannel   : Channel 'order-service.rabbit-1771173138.springCloudBusInput.errors' has 0 subscriber(s).
2025-10-22T11:56:14.634+07:00  INFO 10204 --- [order-service] [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-10-22T11:56:14.634+07:00  INFO 10204 --- [order-service] [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'order-service.errorChannel' has 0 subscriber(s).
2025-10-22T11:56:14.635+07:00  INFO 10204 --- [order-service] [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-10-22T11:56:14.650+07:00  INFO 10204 --- [order-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-22T11:56:14.655+07:00  INFO 10204 --- [order-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-22T11:56:14.659+07:00  INFO 10204 --- [order-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-22T11:56:14.665+07:00  INFO 10204 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-10-22T11:56:17.667+07:00  INFO 10204 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-10-22T11:56:17.738+07:00  INFO 10204 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083 - deregister  status: 200
2025-10-22T11:56:17.739+07:00  INFO 10204 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-10-22T11:56:39.934+07:00  INFO 10428 --- [order-service] [main] com.ecommerce.order.OrderApplication     : Starting OrderApplication using Java 25 with PID 10428 (E:\file_tai_lieu\Course\do_an_tot_nghiep\Spring Boot Microservices Professional eCommerce Masterclass\Microservices\order\target\classes started by thaiv in E:\file_tai_lieu\Course\do_an_tot_nghiep\Spring Boot Microservices Professional eCommerce Masterclass\Microservices)
2025-10-22T11:56:39.938+07:00  INFO 10428 --- [order-service] [main] com.ecommerce.order.OrderApplication     : No active profile set, falling back to 1 default profile: "default"
2025-10-22T11:56:40.041+07:00  INFO 10428 --- [order-service] [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://localhost:8888
2025-10-22T11:56:40.042+07:00  INFO 10428 --- [order-service] [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=order-service, profiles=[default], label=null, version=null, state=null
2025-10-22T11:56:44.409+07:00  INFO 10428 --- [order-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-22T11:56:44.739+07:00  INFO 10428 --- [order-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 290 ms. Found 2 JPA repository interfaces.
2025-10-22T11:56:45.300+07:00  INFO 10428 --- [order-service] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-10-22T11:56:45.317+07:00  INFO 10428 --- [order-service] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-10-22T11:56:45.605+07:00  INFO 10428 --- [order-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=80b9b585-4650-314c-8cd7-6dbc6cd8d3ba
2025-10-22T11:56:47.863+07:00  INFO 10428 --- [order-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-10-22T11:56:47.898+07:00  INFO 10428 --- [order-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-22T11:56:47.900+07:00  INFO 10428 --- [order-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-10-22T11:56:48.112+07:00  INFO 10428 --- [order-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-22T11:56:48.115+07:00  INFO 10428 --- [order-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 8067 ms
2025-10-22T11:56:50.072+07:00  INFO 10428 --- [order-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-22T11:56:50.236+07:00  INFO 10428 --- [order-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.22.Final
2025-10-22T11:56:50.355+07:00  INFO 10428 --- [order-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-22T11:56:51.089+07:00  INFO 10428 --- [order-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-22T11:56:51.169+07:00  INFO 10428 --- [order-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-22T11:56:51.686+07:00  INFO 10428 --- [order-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1e9f48d4
2025-10-22T11:56:51.689+07:00  INFO 10428 --- [order-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-22T11:56:51.847+07:00  WARN 10428 --- [order-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-22T11:56:51.998+07:00  INFO 10428 --- [order-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 14.19
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-22T11:56:57.383+07:00  INFO 10428 --- [order-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-22T11:56:58.960+07:00  INFO 10428 --- [order-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-22T11:57:00.727+07:00  WARN 10428 --- [order-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-22T11:57:03.122+07:00  INFO 10428 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T11:57:04.167+07:00  INFO 10428 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T11:57:04.777+07:00  WARN 10428 --- [order-service] [main] c.f.c.c.BeanFactoryAwareFunctionRegistry : Failed to locate function 'busConsumer' for function definition 'busConsumer'. Returning null.
2025-10-22T11:57:04.939+07:00  INFO 10428 --- [order-service] [main] o.s.c.s.m.DirectWithAttributesChannel    : Channel 'order-service.springCloudBusInput' has 1 subscriber(s).
2025-10-22T11:57:06.621+07:00  INFO 10428 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T11:57:06.700+07:00  INFO 10428 --- [order-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-10-22T11:57:06.925+07:00  WARN 10428 --- [order-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-10-22T11:57:06.989+07:00  INFO 10428 --- [order-service] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-10-22T11:57:07.299+07:00  INFO 10428 --- [order-service] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-10-22T11:57:07.299+07:00  INFO 10428 --- [order-service] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'order-service.errorChannel' has 1 subscriber(s).
2025-10-22T11:57:07.301+07:00  INFO 10428 --- [order-service] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-10-22T11:57:07.482+07:00  INFO 10428 --- [order-service] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-10-22T11:57:07.557+07:00  INFO 10428 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-10-22T11:57:07.570+07:00  INFO 10428 --- [order-service] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T11:57:07.587+07:00  INFO 10428 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-10-22T11:57:07.588+07:00  INFO 10428 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-10-22T11:57:07.588+07:00  INFO 10428 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-10-22T11:57:07.588+07:00  INFO 10428 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-10-22T11:57:07.589+07:00  INFO 10428 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-10-22T11:57:07.589+07:00  INFO 10428 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-10-22T11:57:07.589+07:00  INFO 10428 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-10-22T11:57:07.918+07:00  INFO 10428 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-10-22T11:57:07.920+07:00  INFO 10428 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-10-22T11:57:07.925+07:00  INFO 10428 --- [order-service] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-10-22T11:57:07.927+07:00  INFO 10428 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1761109027926 with initial instances count: 0
2025-10-22T11:57:07.933+07:00  INFO 10428 --- [order-service] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDER-SERVICE with eureka with status UP
2025-10-22T11:57:07.934+07:00  INFO 10428 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1761109027934, current=UP, previous=STARTING]
2025-10-22T11:57:07.936+07:00  INFO 10428 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083: registering service...
2025-10-22T11:57:07.938+07:00  INFO 10428 --- [order-service] [main] o.s.c.s.binder.DefaultBinderFactory      : Creating binder: rabbit
2025-10-22T11:57:07.938+07:00  INFO 10428 --- [order-service] [main] o.s.c.s.binder.DefaultBinderFactory      : Constructing binder child context for rabbit
2025-10-22T11:57:08.017+07:00  INFO 10428 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083 - registration status: 204
2025-10-22T11:57:08.196+07:00  INFO 10428 --- [order-service] [main] o.s.c.s.binder.DefaultBinderFactory      : Caching the binder: rabbit
2025-10-22T11:57:08.217+07:00  INFO 10428 --- [order-service] [main] c.s.b.r.p.RabbitExchangeQueueProvisioner : declaring queue for inbound: springCloudBus.anonymous.4oR-z2VLROOTkxyHU254aQ, bound to: springCloudBus
2025-10-22T11:57:08.224+07:00  INFO 10428 --- [order-service] [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2025-10-22T11:57:08.292+07:00  INFO 10428 --- [order-service] [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#f54cdc4:0/SimpleConnection@3e11cc3a [delegate=amqp://guest@127.0.0.1:5672/, localPort=65325]
2025-10-22T11:57:08.395+07:00  INFO 10428 --- [order-service] [main] o.s.c.stream.binder.BinderErrorChannel   : Channel 'rabbit-134112362.springCloudBusInput.errors' has 1 subscriber(s).
2025-10-22T11:57:08.396+07:00  INFO 10428 --- [order-service] [main] o.s.c.stream.binder.BinderErrorChannel   : Channel 'rabbit-134112362.springCloudBusInput.errors' has 2 subscriber(s).
2025-10-22T11:57:08.484+07:00  INFO 10428 --- [order-service] [main] o.s.i.a.i.AmqpInboundChannelAdapter      : started bean 'inbound.springCloudBus.anonymous.4oR-z2VLROOTkxyHU254aQ'
2025-10-22T11:57:08.523+07:00  INFO 10428 --- [order-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-10-22T11:57:08.527+07:00  INFO 10428 --- [order-service] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8083
2025-10-22T11:57:09.534+07:00  INFO 10428 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T11:57:10.540+07:00  INFO 10428 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T11:57:10.583+07:00  INFO 10428 --- [order-service] [main] com.ecommerce.order.OrderApplication     : Started OrderApplication in 34.066 seconds (process running for 38.376)
2025-10-22T11:57:10.856+07:00  INFO 10428 --- [order-service] [http-nio-8083-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-22T11:57:10.856+07:00  INFO 10428 --- [order-service] [http-nio-8083-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-22T11:57:10.860+07:00  INFO 10428 --- [order-service] [http-nio-8083-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-10-22T11:57:37.921+07:00  INFO 10428 --- [order-service] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-10-22T11:57:37.922+07:00  INFO 10428 --- [order-service] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-10-22T11:57:37.922+07:00  INFO 10428 --- [order-service] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-10-22T11:57:37.922+07:00  INFO 10428 --- [order-service] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-10-22T11:57:37.922+07:00  INFO 10428 --- [order-service] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-10-22T11:57:37.922+07:00  INFO 10428 --- [order-service] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2025-10-22T11:57:37.922+07:00  INFO 10428 --- [order-service] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-10-22T11:57:37.941+07:00  INFO 10428 --- [order-service] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-10-22T12:02:07.592+07:00  INFO 10428 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T12:07:07.595+07:00  INFO 10428 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T12:12:07.596+07:00  INFO 10428 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T12:15:08.547+07:00  WARN 10428 --- [order-service] [springCloudBus.anonymous.4oR-z2VLROOTkxyHU254aQ-1] o.s.a.r.l.SimpleMessageListenerContainer : Consumer raised exception, processing can restart if the connection factory supports it

com.rabbitmq.client.ShutdownSignalException: connection error; protocol method: #method<connection.close>(reply-code=320, reply-text=CONNECTION_FORCED - broker forced connection closure with reason 'shutdown', class-id=0, method-id=0)
	at com.rabbitmq.client.impl.AMQConnection.startShutdown(AMQConnection.java:1007) ~[amqp-client-5.25.0.jar:5.25.0]
	at com.rabbitmq.client.impl.AMQConnection.shutdown(AMQConnection.java:997) ~[amqp-client-5.25.0.jar:5.25.0]
	at com.rabbitmq.client.impl.AMQConnection.handleConnectionClose(AMQConnection.java:935) ~[amqp-client-5.25.0.jar:5.25.0]
	at com.rabbitmq.client.impl.AMQConnection.processControlCommand(AMQConnection.java:890) ~[amqp-client-5.25.0.jar:5.25.0]
	at com.rabbitmq.client.impl.AMQConnection$1.processAsync(AMQConnection.java:275) ~[amqp-client-5.25.0.jar:5.25.0]
	at com.rabbitmq.client.impl.AMQChannel.handleCompleteInboundCommand(AMQChannel.java:193) ~[amqp-client-5.25.0.jar:5.25.0]
	at com.rabbitmq.client.impl.AMQChannel.handleFrame(AMQChannel.java:125) ~[amqp-client-5.25.0.jar:5.25.0]
	at com.rabbitmq.client.impl.AMQConnection.readFrame(AMQConnection.java:741) ~[amqp-client-5.25.0.jar:5.25.0]
	at com.rabbitmq.client.impl.AMQConnection.access$400(AMQConnection.java:48) ~[amqp-client-5.25.0.jar:5.25.0]
	at com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:688) ~[amqp-client-5.25.0.jar:5.25.0]
	at java.base/java.lang.Thread.run(Thread.java:1474) ~[na:na]

2025-10-22T12:15:08.558+07:00  INFO 10428 --- [order-service] [springCloudBus.anonymous.4oR-z2VLROOTkxyHU254aQ-1] o.s.a.r.l.SimpleMessageListenerContainer : Restarting Consumer@4a6198a7: tags=[[amq.ctag-6u_MdgOekcf_wyDwducYOA]], channel=Cached Rabbit Channel: AMQChannel(amqp://guest@127.0.0.1:5672/,1), conn: Proxy@380d8b0e Shared Rabbit Connection: SimpleConnection@3e11cc3a [delegate=amqp://guest@127.0.0.1:5672/, localPort=65325], acknowledgeMode=AUTO local queue size=0
2025-10-22T12:15:08.566+07:00  INFO 10428 --- [order-service] [springCloudBus.anonymous.4oR-z2VLROOTkxyHU254aQ-2] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2025-10-22T12:15:13.593+07:00  WARN 10428 --- [order-service] [springCloudBus.anonymous.4oR-z2VLROOTkxyHU254aQ-2] o.s.a.r.l.SimpleMessageListenerContainer : Consumer raised exception, processing can restart if the connection factory supports it

org.springframework.amqp.AmqpIOException: java.io.IOException
	at org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:70) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:632) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:726) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createBareChannel(CachingConnectionFactory.java:671) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.getCachedChannelProxy(CachingConnectionFactory.java:644) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.getChannel(CachingConnectionFactory.java:533) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at org.springframework.amqp.rabbit.connection.CachingConnectionFactory$ChannelCachingConnectionProxy.createChannel(CachingConnectionFactory.java:1484) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils$RabbitResourceFactory.createChannel(ConnectionFactoryUtils.java:351) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.doGetTransactionalResourceHolder(ConnectionFactoryUtils.java:156) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.getTransactionalResourceHolder(ConnectionFactoryUtils.java:102) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.getTransactionalResourceHolder(ConnectionFactoryUtils.java:85) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at org.springframework.amqp.rabbit.listener.BlockingQueueConsumer.start(BlockingQueueConsumer.java:625) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.initialize(SimpleMessageListenerContainer.java:1482) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at java.base/java.lang.Thread.run(Thread.java:1474) ~[na:na]
Caused by: java.io.IOException: null
	at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:140) ~[amqp-client-5.25.0.jar:5.25.0]
	at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:136) ~[amqp-client-5.25.0.jar:5.25.0]
	at com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:406) ~[amqp-client-5.25.0.jar:5.25.0]
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1251) ~[amqp-client-5.25.0.jar:5.25.0]
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1198) ~[amqp-client-5.25.0.jar:5.25.0]
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connectAddresses(AbstractConnectionFactory.java:678) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connect(AbstractConnectionFactory.java:647) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:593) ~[spring-rabbit-3.2.6.jar:3.2.6]
	... 13 common frames omitted
Caused by: com.rabbitmq.client.ShutdownSignalException: connection error
	at com.rabbitmq.utility.ValueOrException.getValue(ValueOrException.java:66) ~[amqp-client-5.25.0.jar:5.25.0]
	at com.rabbitmq.utility.BlockingValueOrException.uninterruptibleGetValue(BlockingValueOrException.java:36) ~[amqp-client-5.25.0.jar:5.25.0]
	at com.rabbitmq.client.impl.AMQChannel$BlockingRpcContinuation.getReply(AMQChannel.java:552) ~[amqp-client-5.25.0.jar:5.25.0]
	at com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:336) ~[amqp-client-5.25.0.jar:5.25.0]
	... 18 common frames omitted
Caused by: java.io.EOFException: null
	at java.base/java.io.DataInputStream.readUnsignedByte(DataInputStream.java:302) ~[na:na]
	at com.rabbitmq.client.impl.Frame.readFrom(Frame.java:91) ~[amqp-client-5.25.0.jar:5.25.0]
	at com.rabbitmq.client.impl.SocketFrameHandler.readFrame(SocketFrameHandler.java:199) ~[amqp-client-5.25.0.jar:5.25.0]
	at com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:687) ~[amqp-client-5.25.0.jar:5.25.0]
	... 1 common frames omitted

2025-10-22T12:15:13.595+07:00  INFO 10428 --- [order-service] [springCloudBus.anonymous.4oR-z2VLROOTkxyHU254aQ-2] o.s.a.r.l.SimpleMessageListenerContainer : Restarting Consumer@65e5c628: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
2025-10-22T12:15:13.600+07:00  INFO 10428 --- [order-service] [springCloudBus.anonymous.4oR-z2VLROOTkxyHU254aQ-3] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2025-10-22T12:15:18.616+07:00  WARN 10428 --- [order-service] [springCloudBus.anonymous.4oR-z2VLROOTkxyHU254aQ-3] o.s.a.r.l.SimpleMessageListenerContainer : Consumer raised exception, processing can restart if the connection factory supports it. Exception summary: org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: getsockopt
2025-10-22T12:15:18.616+07:00  INFO 10428 --- [order-service] [springCloudBus.anonymous.4oR-z2VLROOTkxyHU254aQ-3] o.s.a.r.l.SimpleMessageListenerContainer : Restarting Consumer@1c29074a: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
2025-10-22T12:15:18.617+07:00  INFO 10428 --- [order-service] [springCloudBus.anonymous.4oR-z2VLROOTkxyHU254aQ-4] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2025-10-22T12:15:22.074+07:00  INFO 10428 --- [order-service] [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDER-SERVICE with eureka with status DOWN
2025-10-22T12:15:22.075+07:00  INFO 10428 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1761110122075, current=DOWN, previous=UP]
2025-10-22T12:15:22.077+07:00  INFO 10428 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083: registering service...
2025-10-22T12:15:22.086+07:00  INFO 10428 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083 - registration status: 204
2025-10-22T12:15:22.091+07:00  INFO 10428 --- [order-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-22T12:15:22.125+07:00  INFO 10428 --- [order-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-22T12:15:22.130+07:00  INFO 10428 --- [order-service] [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-10-22T12:15:22.131+07:00  INFO 10428 --- [order-service] [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-10-22T12:15:22.132+07:00  INFO 10428 --- [order-service] [SpringApplicationShutdownHook] o.s.i.a.i.AmqpInboundChannelAdapter      : stopped bean 'inbound.springCloudBus.anonymous.4oR-z2VLROOTkxyHU254aQ'
2025-10-22T12:15:22.150+07:00  INFO 10428 --- [order-service] [SpringApplicationShutdownHook] o.s.c.stream.binder.BinderErrorChannel   : Channel 'order-service.rabbit-134112362.springCloudBusInput.errors' has 1 subscriber(s).
2025-10-22T12:15:22.152+07:00  INFO 10428 --- [order-service] [SpringApplicationShutdownHook] o.s.c.stream.binder.BinderErrorChannel   : Channel 'order-service.rabbit-134112362.springCloudBusInput.errors' has 0 subscriber(s).
2025-10-22T12:15:22.206+07:00  INFO 10428 --- [order-service] [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-10-22T12:15:22.206+07:00  INFO 10428 --- [order-service] [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'order-service.errorChannel' has 0 subscriber(s).
2025-10-22T12:15:22.207+07:00  INFO 10428 --- [order-service] [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-10-22T12:15:22.237+07:00  INFO 10428 --- [order-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-22T12:15:22.240+07:00  INFO 10428 --- [order-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-22T12:15:22.247+07:00  INFO 10428 --- [order-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-22T12:15:22.249+07:00  INFO 10428 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-10-22T12:15:25.250+07:00  INFO 10428 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-10-22T12:15:25.297+07:00  INFO 10428 --- [order-service] [SpringApplicationShutdownHook] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/} exception=I/O error on DELETE request for "http://localhost:8761/eureka/apps/ORDER-SERVICE/localhost:order-service:8083": Connect to http://localhost:8761 failed: Connection refused: getsockopt stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on DELETE request for "http://localhost:8761/eureka/apps/ORDER-SERVICE/localhost:order-service:8083": Connect to http://localhost:8761 failed: Connection refused: getsockopt
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:926)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:906)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:841)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:702)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:100)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:91)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:919)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:900)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:415)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:239)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:202)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:195)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:387)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:134)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:211)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:798)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:748)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1474)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:707)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1467)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1219)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:179)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1126)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:8761 failed: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:639)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:543)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:594)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:284)
	at java.base/java.net.Socket.connect(Socket.java:659)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:205)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:195)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:117)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$2(RestTemplateTransportClientFactory.java:145)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)
	... 37 more

2025-10-22T12:15:25.298+07:00  WARN 10428 --- [order-service] [SpringApplicationShutdownHook] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on DELETE request for "http://localhost:8761/eureka/apps/ORDER-SERVICE/localhost:order-service:8083": Connect to http://localhost:8761 failed: Connection refused: getsockopt
2025-10-22T12:15:25.316+07:00  INFO 10428 --- [order-service] [SpringApplicationShutdownHook] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on DELETE request for "http://localhost:8761/eureka/apps/ORDER-SERVICE/localhost:order-service:8083": Connect to http://localhost:8761 failed: Connection refused: getsockopt stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on DELETE request for "http://localhost:8761/eureka/apps/ORDER-SERVICE/localhost:order-service:8083": Connect to http://localhost:8761 failed: Connection refused: getsockopt
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:926)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:906)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:841)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:702)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:100)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:919)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:900)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:415)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:239)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:202)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:195)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:387)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:134)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:211)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:798)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:748)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1474)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:707)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1467)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1219)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1180)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:179)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1126)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:8761 failed: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:639)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:543)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:594)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:284)
	at java.base/java.net.Socket.connect(Socket.java:659)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:205)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:195)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:117)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$2(RestTemplateTransportClientFactory.java:145)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)
	... 38 more

2025-10-22T12:15:25.317+07:00  WARN 10428 --- [order-service] [SpringApplicationShutdownHook] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on DELETE request for "http://localhost:8761/eureka/apps/ORDER-SERVICE/localhost:order-service:8083": Connect to http://localhost:8761 failed: Connection refused: getsockopt
2025-10-22T12:15:25.317+07:00 ERROR 10428 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083 - de-registration failedCannot execute request on any known server

com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-2.0.4.jar:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71) ~[eureka-client-2.0.4.jar:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74) ~[eureka-client-2.0.4.jar:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76) ~[eureka-client-2.0.4.jar:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71) ~[eureka-client-2.0.4.jar:2.0.4]
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:919) ~[eureka-client-2.0.4.jar:2.0.4]
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:900) ~[eureka-client-2.0.4.jar:2.0.4]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:415) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:239) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:202) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:195) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:387) ~[spring-cloud-context-4.3.0.jar:4.3.0]
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:134) ~[spring-cloud-context-4.3.0.jar:4.3.0]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:211) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:798) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:748) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1474) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:707) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1467) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1219) ~[spring-context-6.2.9.jar:6.2.9]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1180) ~[spring-context-6.2.9.jar:6.2.9]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:179) ~[spring-boot-3.5.4.jar:3.5.4]
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1126) ~[spring-context-6.2.9.jar:6.2.9]
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147) ~[spring-boot-3.5.4.jar:3.5.4]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116) ~[spring-boot-3.5.4.jar:3.5.4]
	at java.base/java.lang.Thread.run(Thread.java:1474) ~[na:na]

2025-10-22T12:15:25.319+07:00  INFO 10428 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-10-22T16:16:00.164+07:00  INFO 8640 --- [order-service] [main] com.ecommerce.order.OrderApplication     : Starting OrderApplication using Java 25 with PID 8640 (E:\file_tai_lieu\Course\do_an_tot_nghiep\Spring Boot Microservices Professional eCommerce Masterclass\Microservices\order\target\classes started by thaiv in E:\file_tai_lieu\Course\do_an_tot_nghiep\Spring Boot Microservices Professional eCommerce Masterclass\Microservices)
2025-10-22T16:16:00.173+07:00  INFO 8640 --- [order-service] [main] com.ecommerce.order.OrderApplication     : No active profile set, falling back to 1 default profile: "default"
2025-10-22T16:16:00.317+07:00  INFO 8640 --- [order-service] [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://localhost:8888
2025-10-22T16:16:00.318+07:00  INFO 8640 --- [order-service] [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=order-service, profiles=[default], label=null, version=null, state=null
2025-10-22T16:16:04.049+07:00  INFO 8640 --- [order-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-22T16:16:04.711+07:00  INFO 8640 --- [order-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 639 ms. Found 2 JPA repository interfaces.
2025-10-22T16:16:05.507+07:00  INFO 8640 --- [order-service] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-10-22T16:16:05.524+07:00  INFO 8640 --- [order-service] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-10-22T16:16:05.865+07:00  INFO 8640 --- [order-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=80b9b585-4650-314c-8cd7-6dbc6cd8d3ba
2025-10-22T16:16:07.764+07:00  INFO 8640 --- [order-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-10-22T16:16:07.817+07:00  INFO 8640 --- [order-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-22T16:16:07.819+07:00  INFO 8640 --- [order-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-10-22T16:16:08.118+07:00  INFO 8640 --- [order-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-22T16:16:08.119+07:00  INFO 8640 --- [order-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 7796 ms
2025-10-22T16:16:09.057+07:00  INFO 8640 --- [order-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-22T16:16:09.929+07:00  INFO 8640 --- [order-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.22.Final
2025-10-22T16:16:10.068+07:00  INFO 8640 --- [order-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-22T16:16:10.761+07:00  INFO 8640 --- [order-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-22T16:16:10.819+07:00  INFO 8640 --- [order-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-22T16:16:11.066+07:00  INFO 8640 --- [order-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@45494046
2025-10-22T16:16:11.069+07:00  INFO 8640 --- [order-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-22T16:16:11.136+07:00  WARN 8640 --- [order-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-22T16:16:11.182+07:00  INFO 8640 --- [order-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 14.19
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-22T16:16:13.449+07:00  INFO 8640 --- [order-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-22T16:16:13.740+07:00  INFO 8640 --- [order-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-22T16:16:15.657+07:00  WARN 8640 --- [order-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-22T16:16:17.843+07:00  INFO 8640 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:16:18.920+07:00  INFO 8640 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:16:19.447+07:00  WARN 8640 --- [order-service] [main] c.f.c.c.BeanFactoryAwareFunctionRegistry : Failed to locate function 'busConsumer' for function definition 'busConsumer'. Returning null.
2025-10-22T16:16:19.595+07:00  INFO 8640 --- [order-service] [main] o.s.c.s.m.DirectWithAttributesChannel    : Channel 'order-service.springCloudBusInput' has 1 subscriber(s).
2025-10-22T16:16:21.093+07:00  INFO 8640 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:16:21.110+07:00  INFO 8640 --- [order-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-10-22T16:16:21.195+07:00  WARN 8640 --- [order-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-10-22T16:16:21.210+07:00  INFO 8640 --- [order-service] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-10-22T16:16:21.400+07:00  INFO 8640 --- [order-service] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-10-22T16:16:21.400+07:00  INFO 8640 --- [order-service] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'order-service.errorChannel' has 1 subscriber(s).
2025-10-22T16:16:21.401+07:00  INFO 8640 --- [order-service] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-10-22T16:16:21.468+07:00  INFO 8640 --- [order-service] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-10-22T16:16:21.508+07:00  INFO 8640 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-10-22T16:16:21.515+07:00  INFO 8640 --- [order-service] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T16:16:21.526+07:00  INFO 8640 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-10-22T16:16:21.526+07:00  INFO 8640 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-10-22T16:16:21.526+07:00  INFO 8640 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-10-22T16:16:21.527+07:00  INFO 8640 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-10-22T16:16:21.527+07:00  INFO 8640 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-10-22T16:16:21.527+07:00  INFO 8640 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-10-22T16:16:21.527+07:00  INFO 8640 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-10-22T16:16:21.888+07:00  INFO 8640 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-10-22T16:16:21.890+07:00  INFO 8640 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-10-22T16:16:21.893+07:00  INFO 8640 --- [order-service] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-10-22T16:16:21.897+07:00  INFO 8640 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1761124581896 with initial instances count: 0
2025-10-22T16:16:21.904+07:00  INFO 8640 --- [order-service] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDER-SERVICE with eureka with status UP
2025-10-22T16:16:21.905+07:00  INFO 8640 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1761124581905, current=UP, previous=STARTING]
2025-10-22T16:16:21.908+07:00  INFO 8640 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083: registering service...
2025-10-22T16:16:21.910+07:00  INFO 8640 --- [order-service] [main] o.s.c.s.binder.DefaultBinderFactory      : Creating binder: rabbit
2025-10-22T16:16:21.910+07:00  INFO 8640 --- [order-service] [main] o.s.c.s.binder.DefaultBinderFactory      : Constructing binder child context for rabbit
2025-10-22T16:16:21.992+07:00  INFO 8640 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083 - registration status: 204
2025-10-22T16:16:22.087+07:00  INFO 8640 --- [order-service] [main] o.s.c.s.binder.DefaultBinderFactory      : Caching the binder: rabbit
2025-10-22T16:16:22.114+07:00  INFO 8640 --- [order-service] [main] c.s.b.r.p.RabbitExchangeQueueProvisioner : declaring queue for inbound: springCloudBus.anonymous.IwkL0zMLTp6X8fkczjt2Bw, bound to: springCloudBus
2025-10-22T16:16:22.125+07:00  INFO 8640 --- [order-service] [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2025-10-22T16:16:22.175+07:00  INFO 8640 --- [order-service] [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2025-10-22T16:16:22.193+07:00  INFO 8640 --- [order-service] [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2025-10-22T16:16:22.235+07:00  INFO 8640 --- [order-service] [main] o.s.c.stream.binder.BinderErrorChannel   : Channel 'rabbit-1568141256.springCloudBusInput.errors' has 1 subscriber(s).
2025-10-22T16:16:22.237+07:00  INFO 8640 --- [order-service] [main] o.s.c.stream.binder.BinderErrorChannel   : Channel 'rabbit-1568141256.springCloudBusInput.errors' has 2 subscriber(s).
2025-10-22T16:16:22.242+07:00  INFO 8640 --- [order-service] [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2025-10-22T16:16:22.254+07:00  INFO 8640 --- [order-service] [main] o.s.a.r.l.SimpleMessageListenerContainer : Broker not available; cannot force queue declarations during start: java.io.IOException
2025-10-22T16:16:22.269+07:00  INFO 8640 --- [order-service] [springCloudBus.anonymous.IwkL0zMLTp6X8fkczjt2Bw-1] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2025-10-22T16:16:22.288+07:00  INFO 8640 --- [order-service] [main] o.s.i.a.i.AmqpInboundChannelAdapter      : started bean 'inbound.springCloudBus.anonymous.IwkL0zMLTp6X8fkczjt2Bw'
2025-10-22T16:16:22.325+07:00  INFO 8640 --- [order-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-10-22T16:16:22.328+07:00  INFO 8640 --- [order-service] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8083
2025-10-22T16:16:22.870+07:00  INFO 8640 --- [order-service] [http-nio-8083-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-22T16:16:22.871+07:00  INFO 8640 --- [order-service] [http-nio-8083-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-22T16:16:22.877+07:00  INFO 8640 --- [order-service] [http-nio-8083-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-10-22T16:16:23.336+07:00  INFO 8640 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:16:24.344+07:00  INFO 8640 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:16:24.434+07:00  INFO 8640 --- [order-service] [main] com.ecommerce.order.OrderApplication     : Started OrderApplication in 30.233 seconds (process running for 33.685)
2025-10-22T16:16:27.318+07:00  WARN 8640 --- [order-service] [springCloudBus.anonymous.IwkL0zMLTp6X8fkczjt2Bw-1] o.s.a.r.l.SimpleMessageListenerContainer : Consumer raised exception, processing can restart if the connection factory supports it

org.springframework.amqp.AmqpIOException: java.io.IOException
	at org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:70) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:632) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:726) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:257) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils$RabbitResourceFactory.createConnection(ConnectionFactoryUtils.java:345) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.doGetTransactionalResourceHolder(ConnectionFactoryUtils.java:140) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.getTransactionalResourceHolder(ConnectionFactoryUtils.java:102) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.getTransactionalResourceHolder(ConnectionFactoryUtils.java:85) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at org.springframework.amqp.rabbit.listener.BlockingQueueConsumer.start(BlockingQueueConsumer.java:625) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.initialize(SimpleMessageListenerContainer.java:1482) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at java.base/java.lang.Thread.run(Thread.java:1474) ~[na:na]
Caused by: java.io.IOException: null
	at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:140) ~[amqp-client-5.25.0.jar:5.25.0]
	at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:136) ~[amqp-client-5.25.0.jar:5.25.0]
	at com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:406) ~[amqp-client-5.25.0.jar:5.25.0]
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1251) ~[amqp-client-5.25.0.jar:5.25.0]
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1198) ~[amqp-client-5.25.0.jar:5.25.0]
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connectAddresses(AbstractConnectionFactory.java:678) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connect(AbstractConnectionFactory.java:647) ~[spring-rabbit-3.2.6.jar:3.2.6]
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:593) ~[spring-rabbit-3.2.6.jar:3.2.6]
	... 10 common frames omitted
Caused by: com.rabbitmq.client.ShutdownSignalException: connection error
	at com.rabbitmq.utility.ValueOrException.getValue(ValueOrException.java:66) ~[amqp-client-5.25.0.jar:5.25.0]
	at com.rabbitmq.utility.BlockingValueOrException.uninterruptibleGetValue(BlockingValueOrException.java:36) ~[amqp-client-5.25.0.jar:5.25.0]
	at com.rabbitmq.client.impl.AMQChannel$BlockingRpcContinuation.getReply(AMQChannel.java:552) ~[amqp-client-5.25.0.jar:5.25.0]
	at com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:336) ~[amqp-client-5.25.0.jar:5.25.0]
	... 15 common frames omitted
Caused by: java.io.EOFException: null
	at java.base/java.io.DataInputStream.readUnsignedByte(DataInputStream.java:302) ~[na:na]
	at com.rabbitmq.client.impl.Frame.readFrom(Frame.java:91) ~[amqp-client-5.25.0.jar:5.25.0]
	at com.rabbitmq.client.impl.SocketFrameHandler.readFrame(SocketFrameHandler.java:199) ~[amqp-client-5.25.0.jar:5.25.0]
	at com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:687) ~[amqp-client-5.25.0.jar:5.25.0]
	... 1 common frames omitted

2025-10-22T16:16:27.338+07:00  INFO 8640 --- [order-service] [springCloudBus.anonymous.IwkL0zMLTp6X8fkczjt2Bw-1] o.s.a.r.l.SimpleMessageListenerContainer : Restarting Consumer@27e4ca66: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
2025-10-22T16:16:27.343+07:00  INFO 8640 --- [order-service] [springCloudBus.anonymous.IwkL0zMLTp6X8fkczjt2Bw-2] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2025-10-22T16:16:27.394+07:00  INFO 8640 --- [order-service] [springCloudBus.anonymous.IwkL0zMLTp6X8fkczjt2Bw-2] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#1a6aecec:5/SimpleConnection@697e4e43 [delegate=amqp://guest@127.0.0.1:5672/, localPort=58643]
2025-10-22T16:16:27.403+07:00  INFO 8640 --- [order-service] [springCloudBus.anonymous.IwkL0zMLTp6X8fkczjt2Bw-2] o.s.amqp.rabbit.core.RabbitAdmin         : Auto-declaring a non-durable, auto-delete, or exclusive Queue (springCloudBus.anonymous.IwkL0zMLTp6X8fkczjt2Bw) durable:false, auto-delete:true, exclusive:true. It will be redeclared if the broker stops and is restarted while the connection factory is alive, but all messages will be lost.
2025-10-22T16:16:51.891+07:00  INFO 8640 --- [order-service] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-10-22T16:16:51.892+07:00  INFO 8640 --- [order-service] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-10-22T16:16:51.892+07:00  INFO 8640 --- [order-service] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-10-22T16:16:51.892+07:00  INFO 8640 --- [order-service] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-10-22T16:16:51.892+07:00  INFO 8640 --- [order-service] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-10-22T16:16:51.892+07:00  INFO 8640 --- [order-service] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2025-10-22T16:16:51.892+07:00  INFO 8640 --- [order-service] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-10-22T16:16:51.918+07:00  INFO 8640 --- [order-service] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-10-22T16:19:08.378+07:00  INFO 8640 --- [order-service] [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDER-SERVICE with eureka with status DOWN
2025-10-22T16:19:08.378+07:00  INFO 8640 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1761124748378, current=DOWN, previous=UP]
2025-10-22T16:19:08.378+07:00  INFO 8640 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083: registering service...
2025-10-22T16:19:08.383+07:00  INFO 8640 --- [order-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-22T16:19:08.388+07:00  INFO 8640 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083 - registration status: 204
2025-10-22T16:19:08.392+07:00  INFO 8640 --- [order-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-22T16:19:08.403+07:00  INFO 8640 --- [order-service] [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-10-22T16:19:08.593+07:00  INFO 8640 --- [order-service] [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-10-22T16:19:08.594+07:00  INFO 8640 --- [order-service] [SpringApplicationShutdownHook] o.s.i.a.i.AmqpInboundChannelAdapter      : stopped bean 'inbound.springCloudBus.anonymous.IwkL0zMLTp6X8fkczjt2Bw'
2025-10-22T16:19:08.607+07:00  INFO 8640 --- [order-service] [SpringApplicationShutdownHook] o.s.c.stream.binder.BinderErrorChannel   : Channel 'order-service.rabbit-1568141256.springCloudBusInput.errors' has 1 subscriber(s).
2025-10-22T16:19:08.607+07:00  INFO 8640 --- [order-service] [SpringApplicationShutdownHook] o.s.c.stream.binder.BinderErrorChannel   : Channel 'order-service.rabbit-1568141256.springCloudBusInput.errors' has 0 subscriber(s).
2025-10-22T16:19:08.652+07:00  INFO 8640 --- [order-service] [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-10-22T16:19:08.654+07:00  INFO 8640 --- [order-service] [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'order-service.errorChannel' has 0 subscriber(s).
2025-10-22T16:19:08.655+07:00  INFO 8640 --- [order-service] [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-10-22T16:19:08.664+07:00  INFO 8640 --- [order-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-22T16:19:08.667+07:00  INFO 8640 --- [order-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-22T16:19:08.674+07:00  INFO 8640 --- [order-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-22T16:19:08.676+07:00  INFO 8640 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-10-22T16:19:11.678+07:00  INFO 8640 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-10-22T16:19:11.689+07:00  INFO 8640 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083 - deregister  status: 200
2025-10-22T16:19:11.690+07:00  INFO 8640 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-10-22T16:19:16.999+07:00  INFO 6628 --- [order-service] [main] com.ecommerce.order.OrderApplication     : Starting OrderApplication using Java 25 with PID 6628 (E:\file_tai_lieu\Course\do_an_tot_nghiep\Spring Boot Microservices Professional eCommerce Masterclass\Microservices\order\target\classes started by thaiv in E:\file_tai_lieu\Course\do_an_tot_nghiep\Spring Boot Microservices Professional eCommerce Masterclass\Microservices)
2025-10-22T16:19:17.002+07:00  INFO 6628 --- [order-service] [main] com.ecommerce.order.OrderApplication     : No active profile set, falling back to 1 default profile: "default"
2025-10-22T16:19:17.059+07:00  INFO 6628 --- [order-service] [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://localhost:8888
2025-10-22T16:19:17.060+07:00  INFO 6628 --- [order-service] [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=order-service, profiles=[default], label=null, version=null, state=null
2025-10-22T16:19:18.912+07:00  INFO 6628 --- [order-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-22T16:19:19.087+07:00  INFO 6628 --- [order-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 162 ms. Found 2 JPA repository interfaces.
2025-10-22T16:19:19.587+07:00  INFO 6628 --- [order-service] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-10-22T16:19:19.615+07:00  INFO 6628 --- [order-service] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-10-22T16:19:19.834+07:00  INFO 6628 --- [order-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=80b9b585-4650-314c-8cd7-6dbc6cd8d3ba
2025-10-22T16:19:20.612+07:00  INFO 6628 --- [order-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-10-22T16:19:20.629+07:00  INFO 6628 --- [order-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-22T16:19:20.630+07:00  INFO 6628 --- [order-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-10-22T16:19:20.712+07:00  INFO 6628 --- [order-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-22T16:19:20.712+07:00  INFO 6628 --- [order-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3650 ms
2025-10-22T16:19:21.218+07:00  INFO 6628 --- [order-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-22T16:19:21.318+07:00  INFO 6628 --- [order-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.22.Final
2025-10-22T16:19:21.380+07:00  INFO 6628 --- [order-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-22T16:19:21.951+07:00  INFO 6628 --- [order-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-22T16:19:22.017+07:00  INFO 6628 --- [order-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-22T16:19:22.256+07:00  INFO 6628 --- [order-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@63c88994
2025-10-22T16:19:22.258+07:00  INFO 6628 --- [order-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-22T16:19:22.296+07:00  WARN 6628 --- [order-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-22T16:19:22.319+07:00  INFO 6628 --- [order-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 14.19
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-22T16:19:23.547+07:00  INFO 6628 --- [order-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-22T16:19:23.716+07:00  INFO 6628 --- [order-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-22T16:19:25.886+07:00  WARN 6628 --- [order-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-22T16:19:29.290+07:00  INFO 6628 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:19:30.828+07:00  INFO 6628 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:19:31.239+07:00  WARN 6628 --- [order-service] [main] c.f.c.c.BeanFactoryAwareFunctionRegistry : Failed to locate function 'busConsumer' for function definition 'busConsumer'. Returning null.
2025-10-22T16:19:31.453+07:00  INFO 6628 --- [order-service] [main] o.s.c.s.m.DirectWithAttributesChannel    : Channel 'order-service.springCloudBusInput' has 1 subscriber(s).
2025-10-22T16:19:33.687+07:00  INFO 6628 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:19:33.713+07:00  INFO 6628 --- [order-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-10-22T16:19:33.823+07:00  WARN 6628 --- [order-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-10-22T16:19:33.841+07:00  INFO 6628 --- [order-service] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-10-22T16:19:34.100+07:00  INFO 6628 --- [order-service] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-10-22T16:19:34.101+07:00  INFO 6628 --- [order-service] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'order-service.errorChannel' has 1 subscriber(s).
2025-10-22T16:19:34.102+07:00  INFO 6628 --- [order-service] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-10-22T16:19:34.217+07:00  INFO 6628 --- [order-service] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-10-22T16:19:34.255+07:00  INFO 6628 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-10-22T16:19:34.260+07:00  INFO 6628 --- [order-service] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T16:19:34.274+07:00  INFO 6628 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-10-22T16:19:34.275+07:00  INFO 6628 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-10-22T16:19:34.275+07:00  INFO 6628 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-10-22T16:19:34.275+07:00  INFO 6628 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-10-22T16:19:34.275+07:00  INFO 6628 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-10-22T16:19:34.276+07:00  INFO 6628 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-10-22T16:19:34.276+07:00  INFO 6628 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-10-22T16:19:34.667+07:00  INFO 6628 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-10-22T16:19:34.672+07:00  INFO 6628 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-10-22T16:19:34.678+07:00  INFO 6628 --- [order-service] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-10-22T16:19:34.681+07:00  INFO 6628 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1761124774680 with initial instances count: 2
2025-10-22T16:19:34.691+07:00  INFO 6628 --- [order-service] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDER-SERVICE with eureka with status UP
2025-10-22T16:19:34.694+07:00  INFO 6628 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1761124774694, current=UP, previous=STARTING]
2025-10-22T16:19:34.697+07:00  INFO 6628 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083: registering service...
2025-10-22T16:19:34.702+07:00  INFO 6628 --- [order-service] [main] o.s.c.s.binder.DefaultBinderFactory      : Creating binder: rabbit
2025-10-22T16:19:34.703+07:00  INFO 6628 --- [order-service] [main] o.s.c.s.binder.DefaultBinderFactory      : Constructing binder child context for rabbit
2025-10-22T16:19:34.802+07:00  INFO 6628 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083 - registration status: 204
2025-10-22T16:19:34.939+07:00  INFO 6628 --- [order-service] [main] o.s.c.s.binder.DefaultBinderFactory      : Caching the binder: rabbit
2025-10-22T16:19:34.967+07:00  INFO 6628 --- [order-service] [main] c.s.b.r.p.RabbitExchangeQueueProvisioner : declaring queue for inbound: springCloudBus.anonymous.BIMUZQIDQxewfFKgU80jUg, bound to: springCloudBus
2025-10-22T16:19:34.975+07:00  INFO 6628 --- [order-service] [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2025-10-22T16:19:35.044+07:00  INFO 6628 --- [order-service] [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#181cafd:0/SimpleConnection@58f28c5e [delegate=amqp://guest@127.0.0.1:5672/, localPort=58715]
2025-10-22T16:19:35.158+07:00  INFO 6628 --- [order-service] [main] o.s.c.stream.binder.BinderErrorChannel   : Channel 'rabbit-607355152.springCloudBusInput.errors' has 1 subscriber(s).
2025-10-22T16:19:35.160+07:00  INFO 6628 --- [order-service] [main] o.s.c.stream.binder.BinderErrorChannel   : Channel 'rabbit-607355152.springCloudBusInput.errors' has 2 subscriber(s).
2025-10-22T16:19:35.208+07:00  INFO 6628 --- [order-service] [main] o.s.i.a.i.AmqpInboundChannelAdapter      : started bean 'inbound.springCloudBus.anonymous.BIMUZQIDQxewfFKgU80jUg'
2025-10-22T16:19:35.243+07:00  INFO 6628 --- [order-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-10-22T16:19:35.246+07:00  INFO 6628 --- [order-service] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8083
2025-10-22T16:19:36.254+07:00  INFO 6628 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:19:37.262+07:00  INFO 6628 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:19:37.337+07:00  INFO 6628 --- [order-service] [main] com.ecommerce.order.OrderApplication     : Started OrderApplication in 23.09 seconds (process running for 24.252)
2025-10-22T16:19:37.338+07:00  INFO 6628 --- [order-service] [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDER-SERVICE with eureka with status DOWN
2025-10-22T16:19:37.338+07:00  INFO 6628 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1761124777338, current=DOWN, previous=UP]
2025-10-22T16:19:37.338+07:00  INFO 6628 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083: registering service...
2025-10-22T16:19:37.342+07:00  INFO 6628 --- [order-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-22T16:19:37.356+07:00  INFO 6628 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083 - registration status: 204
2025-10-22T16:19:37.362+07:00  INFO 6628 --- [order-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-22T16:19:37.375+07:00  INFO 6628 --- [order-service] [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-10-22T16:19:38.212+07:00  INFO 6628 --- [order-service] [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-10-22T16:19:38.213+07:00  INFO 6628 --- [order-service] [SpringApplicationShutdownHook] o.s.i.a.i.AmqpInboundChannelAdapter      : stopped bean 'inbound.springCloudBus.anonymous.BIMUZQIDQxewfFKgU80jUg'
2025-10-22T16:19:38.229+07:00  INFO 6628 --- [order-service] [SpringApplicationShutdownHook] o.s.c.stream.binder.BinderErrorChannel   : Channel 'order-service.rabbit-607355152.springCloudBusInput.errors' has 1 subscriber(s).
2025-10-22T16:19:38.231+07:00  INFO 6628 --- [order-service] [SpringApplicationShutdownHook] o.s.c.stream.binder.BinderErrorChannel   : Channel 'order-service.rabbit-607355152.springCloudBusInput.errors' has 0 subscriber(s).
2025-10-22T16:19:38.258+07:00  INFO 6628 --- [order-service] [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-10-22T16:19:38.258+07:00  INFO 6628 --- [order-service] [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'order-service.errorChannel' has 0 subscriber(s).
2025-10-22T16:19:38.259+07:00  INFO 6628 --- [order-service] [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-10-22T16:19:38.269+07:00  INFO 6628 --- [order-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-22T16:19:38.271+07:00  INFO 6628 --- [order-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-22T16:19:38.278+07:00  INFO 6628 --- [order-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-22T16:19:38.279+07:00  INFO 6628 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-10-22T16:19:41.280+07:00  INFO 6628 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-10-22T16:19:41.299+07:00  INFO 6628 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083 - deregister  status: 200
2025-10-22T16:19:41.300+07:00  INFO 6628 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-10-22T16:20:40.012+07:00  INFO 4560 --- [order-service] [main] com.ecommerce.order.OrderApplication     : Starting OrderApplication using Java 25 with PID 4560 (E:\file_tai_lieu\Course\do_an_tot_nghiep\Spring Boot Microservices Professional eCommerce Masterclass\Microservices\order\target\classes started by thaiv in E:\file_tai_lieu\Course\do_an_tot_nghiep\Spring Boot Microservices Professional eCommerce Masterclass\Microservices)
2025-10-22T16:20:40.015+07:00  INFO 4560 --- [order-service] [main] com.ecommerce.order.OrderApplication     : No active profile set, falling back to 1 default profile: "default"
2025-10-22T16:20:40.080+07:00  INFO 4560 --- [order-service] [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://localhost:8888
2025-10-22T16:20:40.081+07:00  INFO 4560 --- [order-service] [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=order-service, profiles=[default], label=null, version=null, state=null
2025-10-22T16:20:42.001+07:00  INFO 4560 --- [order-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-22T16:20:42.279+07:00  INFO 4560 --- [order-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 247 ms. Found 2 JPA repository interfaces.
2025-10-22T16:20:42.616+07:00  INFO 4560 --- [order-service] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-10-22T16:20:42.624+07:00  INFO 4560 --- [order-service] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-10-22T16:20:42.787+07:00  INFO 4560 --- [order-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=80b9b585-4650-314c-8cd7-6dbc6cd8d3ba
2025-10-22T16:20:43.508+07:00  INFO 4560 --- [order-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-10-22T16:20:43.526+07:00  INFO 4560 --- [order-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-22T16:20:43.526+07:00  INFO 4560 --- [order-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-10-22T16:20:43.626+07:00  INFO 4560 --- [order-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-22T16:20:43.627+07:00  INFO 4560 --- [order-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3544 ms
2025-10-22T16:20:44.384+07:00  INFO 4560 --- [order-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-22T16:20:44.543+07:00  INFO 4560 --- [order-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.22.Final
2025-10-22T16:20:44.649+07:00  INFO 4560 --- [order-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-22T16:20:45.167+07:00  INFO 4560 --- [order-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-22T16:20:45.205+07:00  INFO 4560 --- [order-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-22T16:20:45.415+07:00  INFO 4560 --- [order-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@63c88994
2025-10-22T16:20:45.418+07:00  INFO 4560 --- [order-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-22T16:20:45.459+07:00  WARN 4560 --- [order-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-22T16:20:45.491+07:00  INFO 4560 --- [order-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 14.19
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-22T16:20:46.822+07:00  INFO 4560 --- [order-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-22T16:20:46.995+07:00  INFO 4560 --- [order-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-22T16:20:47.898+07:00  WARN 4560 --- [order-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-22T16:20:49.620+07:00  INFO 4560 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:20:50.709+07:00  INFO 4560 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:20:51.023+07:00  WARN 4560 --- [order-service] [main] c.f.c.c.BeanFactoryAwareFunctionRegistry : Failed to locate function 'busConsumer' for function definition 'busConsumer'. Returning null.
2025-10-22T16:20:51.142+07:00  INFO 4560 --- [order-service] [main] o.s.c.s.m.DirectWithAttributesChannel    : Channel 'order-service.springCloudBusInput' has 1 subscriber(s).
2025-10-22T16:20:52.434+07:00  INFO 4560 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:20:52.483+07:00  INFO 4560 --- [order-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-10-22T16:20:52.553+07:00  WARN 4560 --- [order-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-10-22T16:20:52.565+07:00  INFO 4560 --- [order-service] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-10-22T16:20:52.693+07:00  INFO 4560 --- [order-service] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-10-22T16:20:52.693+07:00  INFO 4560 --- [order-service] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'order-service.errorChannel' has 1 subscriber(s).
2025-10-22T16:20:52.694+07:00  INFO 4560 --- [order-service] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-10-22T16:20:52.758+07:00  INFO 4560 --- [order-service] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-10-22T16:20:52.783+07:00  INFO 4560 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-10-22T16:20:52.787+07:00  INFO 4560 --- [order-service] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T16:20:52.797+07:00  INFO 4560 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-10-22T16:20:52.797+07:00  INFO 4560 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-10-22T16:20:52.797+07:00  INFO 4560 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-10-22T16:20:52.797+07:00  INFO 4560 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-10-22T16:20:52.798+07:00  INFO 4560 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-10-22T16:20:52.798+07:00  INFO 4560 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-10-22T16:20:52.798+07:00  INFO 4560 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-10-22T16:20:53.054+07:00  INFO 4560 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-10-22T16:20:53.056+07:00  INFO 4560 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-10-22T16:20:53.058+07:00  INFO 4560 --- [order-service] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-10-22T16:20:53.059+07:00  INFO 4560 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1761124853059 with initial instances count: 2
2025-10-22T16:20:53.064+07:00  INFO 4560 --- [order-service] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDER-SERVICE with eureka with status UP
2025-10-22T16:20:53.065+07:00  INFO 4560 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1761124853065, current=UP, previous=STARTING]
2025-10-22T16:20:53.067+07:00  INFO 4560 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083: registering service...
2025-10-22T16:20:53.068+07:00  INFO 4560 --- [order-service] [main] o.s.c.s.binder.DefaultBinderFactory      : Creating binder: rabbit
2025-10-22T16:20:53.069+07:00  INFO 4560 --- [order-service] [main] o.s.c.s.binder.DefaultBinderFactory      : Constructing binder child context for rabbit
2025-10-22T16:20:53.115+07:00  INFO 4560 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083 - registration status: 204
2025-10-22T16:20:53.181+07:00  INFO 4560 --- [order-service] [main] o.s.c.s.binder.DefaultBinderFactory      : Caching the binder: rabbit
2025-10-22T16:20:53.196+07:00  INFO 4560 --- [order-service] [main] c.s.b.r.p.RabbitExchangeQueueProvisioner : declaring queue for inbound: springCloudBus.anonymous.bCM_UL6iQtercv15Z1qDfg, bound to: springCloudBus
2025-10-22T16:20:53.200+07:00  INFO 4560 --- [order-service] [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2025-10-22T16:20:53.247+07:00  INFO 4560 --- [order-service] [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#7df5358:0/SimpleConnection@6d386dff [delegate=amqp://guest@127.0.0.1:5672/, localPort=59486]
2025-10-22T16:20:53.321+07:00  INFO 4560 --- [order-service] [main] o.s.c.stream.binder.BinderErrorChannel   : Channel 'rabbit-395186783.springCloudBusInput.errors' has 1 subscriber(s).
2025-10-22T16:20:53.322+07:00  INFO 4560 --- [order-service] [main] o.s.c.stream.binder.BinderErrorChannel   : Channel 'rabbit-395186783.springCloudBusInput.errors' has 2 subscriber(s).
2025-10-22T16:20:53.352+07:00  INFO 4560 --- [order-service] [main] o.s.i.a.i.AmqpInboundChannelAdapter      : started bean 'inbound.springCloudBus.anonymous.bCM_UL6iQtercv15Z1qDfg'
2025-10-22T16:20:53.377+07:00  INFO 4560 --- [order-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-10-22T16:20:53.379+07:00  INFO 4560 --- [order-service] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8083
2025-10-22T16:20:54.386+07:00  INFO 4560 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:20:55.392+07:00  INFO 4560 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:20:55.457+07:00  INFO 4560 --- [order-service] [main] com.ecommerce.order.OrderApplication     : Started OrderApplication in 17.891 seconds (process running for 18.924)
2025-10-22T16:20:55.799+07:00  INFO 4560 --- [order-service] [http-nio-8083-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-22T16:20:55.799+07:00  INFO 4560 --- [order-service] [http-nio-8083-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-22T16:20:55.801+07:00  INFO 4560 --- [order-service] [http-nio-8083-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-10-22T16:25:52.800+07:00  INFO 4560 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T16:30:52.803+07:00  INFO 4560 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T16:31:55.733+07:00  INFO 4560 --- [order-service] [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDER-SERVICE with eureka with status DOWN
2025-10-22T16:31:55.733+07:00  INFO 4560 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1761125515733, current=DOWN, previous=UP]
2025-10-22T16:31:55.733+07:00  INFO 4560 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083: registering service...
2025-10-22T16:31:55.737+07:00  INFO 4560 --- [order-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-22T16:31:55.740+07:00  INFO 4560 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083 - registration status: 204
2025-10-22T16:31:55.746+07:00  INFO 4560 --- [order-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-22T16:31:55.767+07:00  INFO 4560 --- [order-service] [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-10-22T16:31:55.938+07:00  INFO 4560 --- [order-service] [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-10-22T16:31:55.938+07:00  INFO 4560 --- [order-service] [SpringApplicationShutdownHook] o.s.i.a.i.AmqpInboundChannelAdapter      : stopped bean 'inbound.springCloudBus.anonymous.bCM_UL6iQtercv15Z1qDfg'
2025-10-22T16:31:55.951+07:00  INFO 4560 --- [order-service] [SpringApplicationShutdownHook] o.s.c.stream.binder.BinderErrorChannel   : Channel 'order-service.rabbit-395186783.springCloudBusInput.errors' has 1 subscriber(s).
2025-10-22T16:31:55.952+07:00  INFO 4560 --- [order-service] [SpringApplicationShutdownHook] o.s.c.stream.binder.BinderErrorChannel   : Channel 'order-service.rabbit-395186783.springCloudBusInput.errors' has 0 subscriber(s).
2025-10-22T16:31:55.984+07:00  INFO 4560 --- [order-service] [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-10-22T16:31:55.985+07:00  INFO 4560 --- [order-service] [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'order-service.errorChannel' has 0 subscriber(s).
2025-10-22T16:31:55.986+07:00  INFO 4560 --- [order-service] [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-10-22T16:31:55.998+07:00  INFO 4560 --- [order-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-22T16:31:56.000+07:00  INFO 4560 --- [order-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-22T16:31:56.007+07:00  INFO 4560 --- [order-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-22T16:31:56.008+07:00  INFO 4560 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-10-22T16:31:59.010+07:00  INFO 4560 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-10-22T16:31:59.018+07:00  INFO 4560 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083 - deregister  status: 200
2025-10-22T16:31:59.018+07:00  INFO 4560 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-10-22T16:32:04.606+07:00  INFO 1656 --- [order-service] [main] com.ecommerce.order.OrderApplication     : Starting OrderApplication using Java 25 with PID 1656 (E:\file_tai_lieu\Course\do_an_tot_nghiep\Spring Boot Microservices Professional eCommerce Masterclass\Microservices\order\target\classes started by thaiv in E:\file_tai_lieu\Course\do_an_tot_nghiep\Spring Boot Microservices Professional eCommerce Masterclass\Microservices)
2025-10-22T16:32:04.609+07:00  INFO 1656 --- [order-service] [main] com.ecommerce.order.OrderApplication     : No active profile set, falling back to 1 default profile: "default"
2025-10-22T16:32:04.672+07:00  INFO 1656 --- [order-service] [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://localhost:8888
2025-10-22T16:32:04.673+07:00  INFO 1656 --- [order-service] [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=order-service, profiles=[default], label=null, version=null, state=null
2025-10-22T16:32:06.273+07:00  INFO 1656 --- [order-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-22T16:32:06.455+07:00  INFO 1656 --- [order-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 169 ms. Found 2 JPA repository interfaces.
2025-10-22T16:32:06.875+07:00  INFO 1656 --- [order-service] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-10-22T16:32:06.882+07:00  INFO 1656 --- [order-service] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-10-22T16:32:07.045+07:00  INFO 1656 --- [order-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=80b9b585-4650-314c-8cd7-6dbc6cd8d3ba
2025-10-22T16:32:08.066+07:00  INFO 1656 --- [order-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-10-22T16:32:08.088+07:00  INFO 1656 --- [order-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-22T16:32:08.089+07:00  INFO 1656 --- [order-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-10-22T16:32:08.211+07:00  INFO 1656 --- [order-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-22T16:32:08.212+07:00  INFO 1656 --- [order-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3537 ms
2025-10-22T16:32:08.692+07:00  INFO 1656 --- [order-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-22T16:32:08.775+07:00  INFO 1656 --- [order-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.22.Final
2025-10-22T16:32:08.825+07:00  INFO 1656 --- [order-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-22T16:32:09.238+07:00  INFO 1656 --- [order-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-22T16:32:09.276+07:00  INFO 1656 --- [order-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-22T16:32:09.519+07:00  INFO 1656 --- [order-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@63c88994
2025-10-22T16:32:09.522+07:00  INFO 1656 --- [order-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-22T16:32:09.559+07:00  WARN 1656 --- [order-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-22T16:32:09.585+07:00  INFO 1656 --- [order-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 14.19
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-22T16:32:10.721+07:00  INFO 1656 --- [order-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-22T16:32:10.899+07:00  INFO 1656 --- [order-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-22T16:32:11.761+07:00  WARN 1656 --- [order-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-22T16:32:13.513+07:00  INFO 1656 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:32:14.566+07:00  INFO 1656 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:32:14.828+07:00  WARN 1656 --- [order-service] [main] c.f.c.c.BeanFactoryAwareFunctionRegistry : Failed to locate function 'busConsumer' for function definition 'busConsumer'. Returning null.
2025-10-22T16:32:14.941+07:00  INFO 1656 --- [order-service] [main] o.s.c.s.m.DirectWithAttributesChannel    : Channel 'order-service.springCloudBusInput' has 1 subscriber(s).
2025-10-22T16:32:16.269+07:00  INFO 1656 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:32:16.315+07:00  INFO 1656 --- [order-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-10-22T16:32:16.378+07:00  WARN 1656 --- [order-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-10-22T16:32:16.389+07:00  INFO 1656 --- [order-service] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-10-22T16:32:16.513+07:00  INFO 1656 --- [order-service] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-10-22T16:32:16.514+07:00  INFO 1656 --- [order-service] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'order-service.errorChannel' has 1 subscriber(s).
2025-10-22T16:32:16.514+07:00  INFO 1656 --- [order-service] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-10-22T16:32:16.582+07:00  INFO 1656 --- [order-service] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-10-22T16:32:16.608+07:00  INFO 1656 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-10-22T16:32:16.612+07:00  INFO 1656 --- [order-service] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T16:32:16.623+07:00  INFO 1656 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-10-22T16:32:16.623+07:00  INFO 1656 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-10-22T16:32:16.623+07:00  INFO 1656 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-10-22T16:32:16.623+07:00  INFO 1656 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-10-22T16:32:16.624+07:00  INFO 1656 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-10-22T16:32:16.624+07:00  INFO 1656 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-10-22T16:32:16.624+07:00  INFO 1656 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-10-22T16:32:16.823+07:00  INFO 1656 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-10-22T16:32:16.825+07:00  INFO 1656 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-10-22T16:32:16.827+07:00  INFO 1656 --- [order-service] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-10-22T16:32:16.828+07:00  INFO 1656 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1761125536828 with initial instances count: 2
2025-10-22T16:32:16.832+07:00  INFO 1656 --- [order-service] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDER-SERVICE with eureka with status UP
2025-10-22T16:32:16.833+07:00  INFO 1656 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1761125536833, current=UP, previous=STARTING]
2025-10-22T16:32:16.834+07:00  INFO 1656 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083: registering service...
2025-10-22T16:32:16.835+07:00  INFO 1656 --- [order-service] [main] o.s.c.s.binder.DefaultBinderFactory      : Creating binder: rabbit
2025-10-22T16:32:16.836+07:00  INFO 1656 --- [order-service] [main] o.s.c.s.binder.DefaultBinderFactory      : Constructing binder child context for rabbit
2025-10-22T16:32:16.878+07:00  INFO 1656 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083 - registration status: 204
2025-10-22T16:32:16.932+07:00  INFO 1656 --- [order-service] [main] o.s.c.s.binder.DefaultBinderFactory      : Caching the binder: rabbit
2025-10-22T16:32:16.944+07:00  INFO 1656 --- [order-service] [main] c.s.b.r.p.RabbitExchangeQueueProvisioner : declaring queue for inbound: springCloudBus.anonymous.dND_-vrXQhiE-3mglzCulA, bound to: springCloudBus
2025-10-22T16:32:16.948+07:00  INFO 1656 --- [order-service] [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2025-10-22T16:32:16.999+07:00  INFO 1656 --- [order-service] [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#7df5358:0/SimpleConnection@1e25f6 [delegate=amqp://guest@127.0.0.1:5672/, localPort=59632]
2025-10-22T16:32:17.067+07:00  INFO 1656 --- [order-service] [main] o.s.c.stream.binder.BinderErrorChannel   : Channel 'rabbit-1209561448.springCloudBusInput.errors' has 1 subscriber(s).
2025-10-22T16:32:17.068+07:00  INFO 1656 --- [order-service] [main] o.s.c.stream.binder.BinderErrorChannel   : Channel 'rabbit-1209561448.springCloudBusInput.errors' has 2 subscriber(s).
2025-10-22T16:32:17.093+07:00  INFO 1656 --- [order-service] [main] o.s.i.a.i.AmqpInboundChannelAdapter      : started bean 'inbound.springCloudBus.anonymous.dND_-vrXQhiE-3mglzCulA'
2025-10-22T16:32:17.119+07:00  INFO 1656 --- [order-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-10-22T16:32:17.120+07:00  INFO 1656 --- [order-service] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8083
2025-10-22T16:32:18.126+07:00  INFO 1656 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:32:19.138+07:00  INFO 1656 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:32:19.182+07:00  INFO 1656 --- [order-service] [main] com.ecommerce.order.OrderApplication     : Started OrderApplication in 16.962 seconds (process running for 18.178)
2025-10-22T16:32:19.777+07:00  INFO 1656 --- [order-service] [http-nio-8083-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-22T16:32:19.778+07:00  INFO 1656 --- [order-service] [http-nio-8083-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-22T16:32:19.779+07:00  INFO 1656 --- [order-service] [http-nio-8083-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-22T16:34:35.571+07:00  INFO 1656 --- [order-service] [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDER-SERVICE with eureka with status DOWN
2025-10-22T16:34:35.571+07:00  INFO 1656 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1761125675571, current=DOWN, previous=UP]
2025-10-22T16:34:35.571+07:00  INFO 1656 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083: registering service...
2025-10-22T16:34:35.575+07:00  INFO 1656 --- [order-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-22T16:34:35.580+07:00  INFO 1656 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083 - registration status: 204
2025-10-22T16:34:35.584+07:00  INFO 1656 --- [order-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-22T16:34:35.595+07:00  INFO 1656 --- [order-service] [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-10-22T16:34:36.233+07:00  INFO 1656 --- [order-service] [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-10-22T16:34:36.233+07:00  INFO 1656 --- [order-service] [SpringApplicationShutdownHook] o.s.i.a.i.AmqpInboundChannelAdapter      : stopped bean 'inbound.springCloudBus.anonymous.dND_-vrXQhiE-3mglzCulA'
2025-10-22T16:34:36.253+07:00  INFO 1656 --- [order-service] [SpringApplicationShutdownHook] o.s.c.stream.binder.BinderErrorChannel   : Channel 'order-service.rabbit-1209561448.springCloudBusInput.errors' has 1 subscriber(s).
2025-10-22T16:34:36.254+07:00  INFO 1656 --- [order-service] [SpringApplicationShutdownHook] o.s.c.stream.binder.BinderErrorChannel   : Channel 'order-service.rabbit-1209561448.springCloudBusInput.errors' has 0 subscriber(s).
2025-10-22T16:34:36.280+07:00  INFO 1656 --- [order-service] [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-10-22T16:34:36.280+07:00  INFO 1656 --- [order-service] [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'order-service.errorChannel' has 0 subscriber(s).
2025-10-22T16:34:36.281+07:00  INFO 1656 --- [order-service] [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-10-22T16:34:36.291+07:00  INFO 1656 --- [order-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-22T16:34:36.292+07:00  INFO 1656 --- [order-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-22T16:34:36.299+07:00  INFO 1656 --- [order-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-22T16:34:36.301+07:00  INFO 1656 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-10-22T16:34:39.302+07:00  INFO 1656 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-10-22T16:34:39.310+07:00  INFO 1656 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083 - deregister  status: 200
2025-10-22T16:34:39.310+07:00  INFO 1656 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-10-22T16:34:44.653+07:00  INFO 15992 --- [order-service] [main] com.ecommerce.order.OrderApplication     : Starting OrderApplication using Java 25 with PID 15992 (E:\file_tai_lieu\Course\do_an_tot_nghiep\Spring Boot Microservices Professional eCommerce Masterclass\Microservices\order\target\classes started by thaiv in E:\file_tai_lieu\Course\do_an_tot_nghiep\Spring Boot Microservices Professional eCommerce Masterclass\Microservices)
2025-10-22T16:34:44.657+07:00  INFO 15992 --- [order-service] [main] com.ecommerce.order.OrderApplication     : No active profile set, falling back to 1 default profile: "default"
2025-10-22T16:34:44.723+07:00  INFO 15992 --- [order-service] [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://localhost:8888
2025-10-22T16:34:44.723+07:00  INFO 15992 --- [order-service] [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=order-service, profiles=[default], label=null, version=null, state=null
2025-10-22T16:34:46.474+07:00  INFO 15992 --- [order-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-22T16:34:46.651+07:00  INFO 15992 --- [order-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 164 ms. Found 2 JPA repository interfaces.
2025-10-22T16:34:47.021+07:00  INFO 15992 --- [order-service] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-10-22T16:34:47.031+07:00  INFO 15992 --- [order-service] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-10-22T16:34:47.197+07:00  INFO 15992 --- [order-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=80b9b585-4650-314c-8cd7-6dbc6cd8d3ba
2025-10-22T16:34:47.862+07:00  INFO 15992 --- [order-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-10-22T16:34:47.881+07:00  INFO 15992 --- [order-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-22T16:34:47.881+07:00  INFO 15992 --- [order-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-10-22T16:34:47.986+07:00  INFO 15992 --- [order-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-22T16:34:47.987+07:00  INFO 15992 --- [order-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3260 ms
2025-10-22T16:34:48.483+07:00  INFO 15992 --- [order-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-22T16:34:48.553+07:00  INFO 15992 --- [order-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.22.Final
2025-10-22T16:34:48.597+07:00  INFO 15992 --- [order-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-22T16:34:48.990+07:00  INFO 15992 --- [order-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-22T16:34:49.045+07:00  INFO 15992 --- [order-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-22T16:34:49.407+07:00  INFO 15992 --- [order-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@63c88994
2025-10-22T16:34:49.411+07:00  INFO 15992 --- [order-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-22T16:34:49.499+07:00  WARN 15992 --- [order-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-22T16:34:49.550+07:00  INFO 15992 --- [order-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 14.19
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-22T16:34:51.000+07:00  INFO 15992 --- [order-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-22T16:34:51.197+07:00  INFO 15992 --- [order-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-22T16:34:52.315+07:00  WARN 15992 --- [order-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-22T16:34:53.935+07:00  INFO 15992 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:34:54.997+07:00  INFO 15992 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:34:55.246+07:00  WARN 15992 --- [order-service] [main] c.f.c.c.BeanFactoryAwareFunctionRegistry : Failed to locate function 'busConsumer' for function definition 'busConsumer'. Returning null.
2025-10-22T16:34:55.334+07:00  INFO 15992 --- [order-service] [main] o.s.c.s.m.DirectWithAttributesChannel    : Channel 'order-service.springCloudBusInput' has 1 subscriber(s).
2025-10-22T16:34:56.642+07:00  INFO 15992 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:34:56.686+07:00  INFO 15992 --- [order-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-10-22T16:34:56.752+07:00  WARN 15992 --- [order-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-10-22T16:34:56.762+07:00  INFO 15992 --- [order-service] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-10-22T16:34:56.900+07:00  INFO 15992 --- [order-service] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-10-22T16:34:56.900+07:00  INFO 15992 --- [order-service] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'order-service.errorChannel' has 1 subscriber(s).
2025-10-22T16:34:56.901+07:00  INFO 15992 --- [order-service] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-10-22T16:34:56.972+07:00  INFO 15992 --- [order-service] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-10-22T16:34:56.999+07:00  INFO 15992 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-10-22T16:34:57.005+07:00  INFO 15992 --- [order-service] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T16:34:57.016+07:00  INFO 15992 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-10-22T16:34:57.017+07:00  INFO 15992 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-10-22T16:34:57.017+07:00  INFO 15992 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-10-22T16:34:57.017+07:00  INFO 15992 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-10-22T16:34:57.017+07:00  INFO 15992 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-10-22T16:34:57.017+07:00  INFO 15992 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-10-22T16:34:57.018+07:00  INFO 15992 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-10-22T16:34:57.206+07:00  INFO 15992 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-10-22T16:34:57.210+07:00  INFO 15992 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-10-22T16:34:57.212+07:00  INFO 15992 --- [order-service] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-10-22T16:34:57.214+07:00  INFO 15992 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1761125697214 with initial instances count: 3
2025-10-22T16:34:57.219+07:00  INFO 15992 --- [order-service] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDER-SERVICE with eureka with status UP
2025-10-22T16:34:57.219+07:00  INFO 15992 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1761125697219, current=UP, previous=STARTING]
2025-10-22T16:34:57.223+07:00  INFO 15992 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083: registering service...
2025-10-22T16:34:57.224+07:00  INFO 15992 --- [order-service] [main] o.s.c.s.binder.DefaultBinderFactory      : Creating binder: rabbit
2025-10-22T16:34:57.225+07:00  INFO 15992 --- [order-service] [main] o.s.c.s.binder.DefaultBinderFactory      : Constructing binder child context for rabbit
2025-10-22T16:34:57.267+07:00  INFO 15992 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083 - registration status: 204
2025-10-22T16:34:57.331+07:00  INFO 15992 --- [order-service] [main] o.s.c.s.binder.DefaultBinderFactory      : Caching the binder: rabbit
2025-10-22T16:34:57.345+07:00  INFO 15992 --- [order-service] [main] c.s.b.r.p.RabbitExchangeQueueProvisioner : declaring queue for inbound: springCloudBus.anonymous.-u_qxb97T3685gR9-4rvIQ, bound to: springCloudBus
2025-10-22T16:34:57.352+07:00  INFO 15992 --- [order-service] [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2025-10-22T16:34:57.402+07:00  INFO 15992 --- [order-service] [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#181cafd:0/SimpleConnection@3ffa007c [delegate=amqp://guest@127.0.0.1:5672/, localPort=59677]
2025-10-22T16:34:57.477+07:00  INFO 15992 --- [order-service] [main] o.s.c.stream.binder.BinderErrorChannel   : Channel 'rabbit-309904527.springCloudBusInput.errors' has 1 subscriber(s).
2025-10-22T16:34:57.479+07:00  INFO 15992 --- [order-service] [main] o.s.c.stream.binder.BinderErrorChannel   : Channel 'rabbit-309904527.springCloudBusInput.errors' has 2 subscriber(s).
2025-10-22T16:34:57.507+07:00  INFO 15992 --- [order-service] [main] o.s.i.a.i.AmqpInboundChannelAdapter      : started bean 'inbound.springCloudBus.anonymous.-u_qxb97T3685gR9-4rvIQ'
2025-10-22T16:34:57.527+07:00  INFO 15992 --- [order-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-10-22T16:34:57.528+07:00  INFO 15992 --- [order-service] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8083
2025-10-22T16:34:58.534+07:00  INFO 15992 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:34:58.751+07:00  INFO 15992 --- [order-service] [http-nio-8083-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-22T16:34:58.751+07:00  INFO 15992 --- [order-service] [http-nio-8083-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-22T16:34:58.753+07:00  INFO 15992 --- [order-service] [http-nio-8083-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-10-22T16:34:59.543+07:00  INFO 15992 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:34:59.573+07:00  INFO 15992 --- [order-service] [main] com.ecommerce.order.OrderApplication     : Started OrderApplication in 17.878 seconds (process running for 18.871)
2025-10-22T16:39:57.020+07:00  INFO 15992 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T16:42:56.457+07:00  INFO 15992 --- [order-service] [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ORDER-SERVICE with eureka with status DOWN
2025-10-22T16:42:56.457+07:00  INFO 15992 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1761126176457, current=DOWN, previous=UP]
2025-10-22T16:42:56.457+07:00  INFO 15992 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083: registering service...
2025-10-22T16:42:56.461+07:00  INFO 15992 --- [order-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-22T16:42:56.466+07:00  INFO 15992 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083 - registration status: 204
2025-10-22T16:42:56.471+07:00  INFO 15992 --- [order-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-22T16:42:56.483+07:00  INFO 15992 --- [order-service] [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-10-22T16:42:57.021+07:00  INFO 15992 --- [order-service] [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-10-22T16:42:57.022+07:00  INFO 15992 --- [order-service] [SpringApplicationShutdownHook] o.s.i.a.i.AmqpInboundChannelAdapter      : stopped bean 'inbound.springCloudBus.anonymous.-u_qxb97T3685gR9-4rvIQ'
2025-10-22T16:42:57.047+07:00  INFO 15992 --- [order-service] [SpringApplicationShutdownHook] o.s.c.stream.binder.BinderErrorChannel   : Channel 'order-service.rabbit-309904527.springCloudBusInput.errors' has 1 subscriber(s).
2025-10-22T16:42:57.049+07:00  INFO 15992 --- [order-service] [SpringApplicationShutdownHook] o.s.c.stream.binder.BinderErrorChannel   : Channel 'order-service.rabbit-309904527.springCloudBusInput.errors' has 0 subscriber(s).
2025-10-22T16:42:57.086+07:00  INFO 15992 --- [order-service] [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-10-22T16:42:57.086+07:00  INFO 15992 --- [order-service] [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'order-service.errorChannel' has 0 subscriber(s).
2025-10-22T16:42:57.087+07:00  INFO 15992 --- [order-service] [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-10-22T16:42:57.098+07:00  INFO 15992 --- [order-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-22T16:42:57.099+07:00  INFO 15992 --- [order-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-22T16:42:57.106+07:00  INFO 15992 --- [order-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-22T16:42:57.108+07:00  INFO 15992 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-10-22T16:43:00.110+07:00  WARN 15992 --- [order-service] [DiscoveryClient-%d] c.netflix.discovery.TimedSupervisorTask  : task supervisor shutting down, can't accept the task
2025-10-22T16:43:00.110+07:00  INFO 15992 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-10-22T16:43:00.116+07:00  INFO 15992 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083 - deregister  status: 200
2025-10-22T16:43:00.116+07:00  INFO 15992 --- [order-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-10-22T16:43:05.070+07:00  INFO 14700 --- [order-service] [main] com.ecommerce.order.OrderApplication     : Starting OrderApplication using Java 25 with PID 14700 (E:\file_tai_lieu\Course\do_an_tot_nghiep\Spring Boot Microservices Professional eCommerce Masterclass\Microservices\order\target\classes started by thaiv in E:\file_tai_lieu\Course\do_an_tot_nghiep\Spring Boot Microservices Professional eCommerce Masterclass\Microservices)
2025-10-22T16:43:05.073+07:00  INFO 14700 --- [order-service] [main] com.ecommerce.order.OrderApplication     : No active profile set, falling back to 1 default profile: "default"
2025-10-22T16:43:05.139+07:00  INFO 14700 --- [order-service] [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://localhost:8888
2025-10-22T16:43:05.140+07:00  INFO 14700 --- [order-service] [main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=order-service, profiles=[default], label=null, version=null, state=null
2025-10-22T16:43:07.024+07:00  INFO 14700 --- [order-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-22T16:43:07.217+07:00  INFO 14700 --- [order-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 176 ms. Found 2 JPA repository interfaces.
2025-10-22T16:43:07.542+07:00  INFO 14700 --- [order-service] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-10-22T16:43:07.560+07:00  INFO 14700 --- [order-service] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-10-22T16:43:07.758+07:00  INFO 14700 --- [order-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=0808910d-0d67-3d93-9634-38900962bae3
2025-10-22T16:43:08.477+07:00  INFO 14700 --- [order-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-10-22T16:43:08.494+07:00  INFO 14700 --- [order-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-22T16:43:08.495+07:00  INFO 14700 --- [order-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-10-22T16:43:08.623+07:00  INFO 14700 --- [order-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-22T16:43:08.624+07:00  INFO 14700 --- [order-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3482 ms
2025-10-22T16:43:09.214+07:00  INFO 14700 --- [order-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-22T16:43:09.381+07:00  INFO 14700 --- [order-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.22.Final
2025-10-22T16:43:09.465+07:00  INFO 14700 --- [order-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-22T16:43:09.869+07:00  INFO 14700 --- [order-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-22T16:43:09.910+07:00  INFO 14700 --- [order-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-22T16:43:10.121+07:00  INFO 14700 --- [order-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@46c19350
2025-10-22T16:43:10.124+07:00  INFO 14700 --- [order-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-22T16:43:10.166+07:00  WARN 14700 --- [order-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-22T16:43:10.194+07:00  INFO 14700 --- [order-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 14.19
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-22T16:43:11.676+07:00  INFO 14700 --- [order-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-22T16:43:12.087+07:00  INFO 14700 --- [order-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-22T16:43:13.181+07:00  WARN 14700 --- [order-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-22T16:43:14.743+07:00  INFO 14700 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:43:15.829+07:00  INFO 14700 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:43:16.182+07:00  WARN 14700 --- [order-service] [main] c.f.c.c.BeanFactoryAwareFunctionRegistry : Failed to locate function 'busConsumer' for function definition 'busConsumer'. Returning null.
2025-10-22T16:43:16.264+07:00  INFO 14700 --- [order-service] [main] o.s.c.s.m.DirectWithAttributesChannel    : Channel 'order-service.springCloudBusInput' has 1 subscriber(s).
2025-10-22T16:43:17.479+07:00  INFO 14700 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:43:17.497+07:00  INFO 14700 --- [order-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-10-22T16:43:17.557+07:00  WARN 14700 --- [order-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-10-22T16:43:17.566+07:00  INFO 14700 --- [order-service] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 25 endpoints beneath base path '/actuator'
2025-10-22T16:43:17.713+07:00  INFO 14700 --- [order-service] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-10-22T16:43:17.713+07:00  INFO 14700 --- [order-service] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'order-service.errorChannel' has 1 subscriber(s).
2025-10-22T16:43:17.714+07:00  INFO 14700 --- [order-service] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-10-22T16:43:17.770+07:00  INFO 14700 --- [order-service] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-10-22T16:43:17.796+07:00  INFO 14700 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-10-22T16:43:17.799+07:00  INFO 14700 --- [order-service] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-10-22T16:43:17.809+07:00  INFO 14700 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-10-22T16:43:17.810+07:00  INFO 14700 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-10-22T16:43:17.810+07:00  INFO 14700 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-10-22T16:43:17.810+07:00  INFO 14700 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-10-22T16:43:17.810+07:00  INFO 14700 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-10-22T16:43:17.810+07:00  INFO 14700 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-10-22T16:43:17.810+07:00  INFO 14700 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-10-22T16:43:17.982+07:00  INFO 14700 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-10-22T16:43:17.986+07:00  INFO 14700 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-10-22T16:43:17.988+07:00  INFO 14700 --- [order-service] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-10-22T16:43:17.989+07:00  INFO 14700 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1761126197989 with initial instances count: 3
2025-10-22T16:43:17.994+07:00  INFO 14700 --- [order-service] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ORDER-SERVICE with eureka with status UP
2025-10-22T16:43:17.995+07:00  INFO 14700 --- [order-service] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1761126197995, current=UP, previous=STARTING]
2025-10-22T16:43:17.997+07:00  INFO 14700 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083: registering service...
2025-10-22T16:43:17.997+07:00  INFO 14700 --- [order-service] [main] o.s.c.s.binder.DefaultBinderFactory      : Creating binder: rabbit
2025-10-22T16:43:17.998+07:00  INFO 14700 --- [order-service] [main] o.s.c.s.binder.DefaultBinderFactory      : Constructing binder child context for rabbit
2025-10-22T16:43:18.051+07:00  INFO 14700 --- [order-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/localhost:order-service:8083 - registration status: 204
2025-10-22T16:43:18.113+07:00  INFO 14700 --- [order-service] [main] o.s.c.s.binder.DefaultBinderFactory      : Caching the binder: rabbit
2025-10-22T16:43:18.127+07:00  INFO 14700 --- [order-service] [main] c.s.b.r.p.RabbitExchangeQueueProvisioner : declaring queue for inbound: springCloudBus.anonymous.3b-RUllNT128p5R-ivWCxg, bound to: springCloudBus
2025-10-22T16:43:18.131+07:00  INFO 14700 --- [order-service] [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2025-10-22T16:43:18.177+07:00  INFO 14700 --- [order-service] [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6ea48ca1:0/SimpleConnection@77431f12 [delegate=amqp://guest@127.0.0.1:5672/, localPort=59828]
2025-10-22T16:43:18.248+07:00  INFO 14700 --- [order-service] [main] o.s.c.stream.binder.BinderErrorChannel   : Channel 'rabbit-528710336.springCloudBusInput.errors' has 1 subscriber(s).
2025-10-22T16:43:18.251+07:00  INFO 14700 --- [order-service] [main] o.s.c.stream.binder.BinderErrorChannel   : Channel 'rabbit-528710336.springCloudBusInput.errors' has 2 subscriber(s).
2025-10-22T16:43:18.278+07:00  INFO 14700 --- [order-service] [main] o.s.i.a.i.AmqpInboundChannelAdapter      : started bean 'inbound.springCloudBus.anonymous.3b-RUllNT128p5R-ivWCxg'
2025-10-22T16:43:18.306+07:00  INFO 14700 --- [order-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-10-22T16:43:18.307+07:00  INFO 14700 --- [order-service] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8083
2025-10-22T16:43:19.314+07:00  INFO 14700 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:43:19.691+07:00  INFO 14700 --- [order-service] [http-nio-8083-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-22T16:43:19.691+07:00  INFO 14700 --- [order-service] [http-nio-8083-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-22T16:43:19.693+07:00  INFO 14700 --- [order-service] [http-nio-8083-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-10-22T16:43:20.321+07:00  INFO 14700 --- [order-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-10-22T16:43:20.353+07:00  INFO 14700 --- [order-service] [main] com.ecommerce.order.OrderApplication     : Started OrderApplication in 17.81 seconds (process running for 18.974)
2025-10-22T16:48:17.814+07:00  INFO 14700 --- [order-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
